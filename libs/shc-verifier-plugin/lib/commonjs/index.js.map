{"version":3,"names":["_qr","require","_Config","_types","Object","keys","forEach","key","prototype","hasOwnProperty","call","_exportNames","exports","defineProperty","enumerable","get","SHCVerifier","constructor","options","setVerifierInitOption","shc","console","info","canSupport","payloads","length","startsWith","Promise","resolve","reject","validate","res1","qrValidate","JSON","stringify"],"sources":["index.tsx"],"sourcesContent":["import type { IParserBase, BaseResponse } from 'parser-sdk'\nimport { validate  as qrValidate } from './qr' \nimport type { SHCverifierOption, SHCVerifierType } from './types'\nimport { setVerifierInitOption } from \"./models/Config\"\nexport  * from './types'\n\n\n\n\nexport class SHCVerifier implements IParserBase {\n\n  constructor ( options: SHCVerifierType ) {\n    setVerifierInitOption( options.shc as SHCverifierOption )\n    console.info(\"SHCVerifier: initialized\")\n  }\n  \n  canSupport( payloads: string[] ): Promise< IParserBase|null > {\n    if ( payloads.length > 0 &&\n         payloads[0].length > 4 && \n         payloads[0].startsWith(\"shc:/\")) {\n      return Promise.resolve( this )\n    }\n    return Promise.reject(null)\n  }\n\n  async validate(payloads: string[]): Promise< null | BaseResponse > {\n    console.info(\"#YF index validate 1\" )\n    let res1 =  await qrValidate( payloads );\n    console.info(\"#YF index validate res = \" + JSON.stringify( res1 )  )\n    return res1;\n  }\n\n}\n"],"mappings":";;;;;;;;;AACA,IAAAA,GAAA,GAAAC,OAAA;AAEA,IAAAC,OAAA,GAAAD,OAAA;AACA,IAAAE,MAAA,GAAAF,OAAA;AAAAG,MAAA,CAAAC,IAAA,CAAAF,MAAA,EAAAG,OAAA,WAAAC,GAAA;EAAA,IAAAA,GAAA,kBAAAA,GAAA;EAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAC,YAAA,EAAAJ,GAAA;EAAA,IAAAA,GAAA,IAAAK,OAAA,IAAAA,OAAA,CAAAL,GAAA,MAAAJ,MAAA,CAAAI,GAAA;EAAAH,MAAA,CAAAS,cAAA,CAAAD,OAAA,EAAAL,GAAA;IAAAO,UAAA;IAAAC,GAAA,WAAAA,CAAA;MAAA,OAAAZ,MAAA,CAAAI,GAAA;IAAA;EAAA;AAAA;AAKO,MAAMS,WAAW,CAAwB;EAE9CC,WAAWA,CAAGC,OAAwB,EAAG;IACvC,IAAAC,6BAAqB,EAAED,OAAO,CAACE,GAAG,CAAuB;IACzDC,OAAO,CAACC,IAAI,CAAC,0BAA0B,CAAC;EAC1C;EAEAC,UAAUA,CAAEC,QAAkB,EAAgC;IAC5D,IAAKA,QAAQ,CAACC,MAAM,GAAG,CAAC,IACnBD,QAAQ,CAAC,CAAC,CAAC,CAACC,MAAM,GAAG,CAAC,IACtBD,QAAQ,CAAC,CAAC,CAAC,CAACE,UAAU,CAAC,OAAO,CAAC,EAAE;MACpC,OAAOC,OAAO,CAACC,OAAO,CAAE,IAAI,CAAE;IAChC;IACA,OAAOD,OAAO,CAACE,MAAM,CAAC,IAAI,CAAC;EAC7B;EAEA,MAAMC,QAAQA,CAACN,QAAkB,EAAkC;IACjEH,OAAO,CAACC,IAAI,CAAC,sBAAsB,CAAE;IACrC,IAAIS,IAAI,GAAI,MAAM,IAAAC,YAAU,EAAER,QAAQ,CAAE;IACxCH,OAAO,CAACC,IAAI,CAAC,2BAA2B,GAAGW,IAAI,CAACC,SAAS,CAAEH,IAAI,CAAE,CAAG;IACpE,OAAOA,IAAI;EACb;AAEF;AAACnB,OAAA,CAAAI,WAAA,GAAAA,WAAA"}